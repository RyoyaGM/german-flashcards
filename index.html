<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ドイツ語単語学習アプリ - 総合学術単語</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .flip-card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card.flipped .flip-card-inner {
            transform: rotateX(180deg);
        }
        .flip-card-front, .flip-card-back {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        .flip-card-back {
            transform: rotateX(180deg);
        }
        .btn {
            transition: all 0.2s ease-in-out;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        .screen {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* クイズ用 */
        .option-btn.correct {
            background-color: #22c55e !important; /* green-500 */
            border-color: #16a34a !important; /* green-600 */
        }
        .option-btn.incorrect {
            background-color: #ef4444 !important; /* red-500 */
            border-color: #dc2626 !important; /* red-600 */
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 flex items-center justify-center min-h-screen p-4">

    <div id="app" class="w-full max-w-2xl mx-auto">
        
        <!-- 学習画面 -->
        <div id="learning-screen" class="screen">
            <header class="text-center mb-4">
                <h1 id="learning-title" class="text-2xl md:text-3xl font-bold text-blue-600 dark:text-blue-400">ドイツ語単語学習</h1>
                <p class="text-gray-500 dark:text-gray-400">総合学術単語</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-4">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
                <div id="progress-text" class="text-sm text-gray-600 dark:text-gray-300 mt-2"></div>
            </header>

            <main>
                <div id="flip-card" class="flip-card w-full h-72 md:h-80 perspective-[1000px]">
                    <div id="flip-card-inner" class="flip-card-inner relative w-full h-full text-center">
                        <div class="flip-card-front absolute w-full h-full bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col items-center justify-center p-6">
                            <p class="text-gray-500 dark:text-gray-400 text-sm mb-4">ドイツ語</p>
                            <h2 id="word-display" class="text-3xl md:text-4xl font-bold"></h2>
                        </div>
                        <div class="flip-card-back absolute w-full h-full bg-blue-50 dark:bg-gray-700 rounded-xl shadow-lg border border-gray-200 dark:border-gray-600 flex flex-col items-center justify-center p-6 overflow-y-auto">
                            <p class="text-gray-500 dark:text-gray-400 text-sm mb-2">意味</p>
                            <h3 id="japanese-display" class="text-xl md:text-2xl font-bold mb-3 text-center"></h3>
                        </div>
                    </div>
                </div>
                <div class="mt-6 flex justify-center">
                    <button id="check-meaning-btn" class="btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md">意味を確認</button>
                </div>
                <div id="assessment-buttons" class="hidden mt-6 grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
                    <button data-status="remembered" class="btn assessment-btn bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md">即答</button>
                    <button data-status="fuzzy" class="btn assessment-btn bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md">思い出す</button>
                    <button data-status="forgotten" class="btn assessment-btn bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md">怪しい</button>
                    <button data-status="wrong" class="btn assessment-btn bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md">誤答</button>
                </div>
            </main>
        </div>

        <!-- 結果画面 -->
        <div id="result-screen" class="hidden screen text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700">
            <h2 class="text-3xl font-bold text-blue-600 dark:text-blue-400 mb-4">お疲れ様でした！</h2>
            <p class="mb-6 text-lg">学習結果</p>
            <div class="space-y-3 text-left w-full max-w-md mx-auto">
                <details class="bg-green-100 dark:bg-green-900/50 rounded-lg overflow-hidden"><summary class="flex justify-between items-center p-3 font-semibold cursor-pointer list-none"><span>即答</span><span id="remembered-count" class="font-bold text-lg text-green-600 dark:text-green-400 bg-white/50 dark:bg-black/20 px-2 rounded-md">0</span></summary><ul id="remembered-list" class="p-4 pt-0 space-y-2 border-t border-green-200 dark:border-green-800"></ul></details>
                <details class="bg-yellow-100 dark:bg-yellow-900/50 rounded-lg overflow-hidden"><summary class="flex justify-between items-center p-3 font-semibold cursor-pointer list-none"><span>思い出す</span><span id="fuzzy-count" class="font-bold text-lg text-yellow-600 dark:text-yellow-400 bg-white/50 dark:bg-black/20 px-2 rounded-md">0</span></summary><ul id="fuzzy-list" class="p-4 pt-0 space-y-2 border-t border-yellow-200 dark:border-yellow-800"></ul></details>
                <details class="bg-orange-100 dark:bg-orange-900/50 rounded-lg overflow-hidden"><summary class="flex justify-between items-center p-3 font-semibold cursor-pointer list-none"><span>怪しい</span><span id="forgotten-count" class="font-bold text-lg text-orange-600 dark:text-orange-400 bg-white/50 dark:bg-black/20 px-2 rounded-md">0</span></summary><ul id="forgotten-list" class="p-4 pt-0 space-y-2 border-t border-orange-200 dark:border-orange-800"></ul></details>
                <details class="bg-red-100 dark:bg-red-900/50 rounded-lg overflow-hidden"><summary class="flex justify-between items-center p-3 font-semibold cursor-pointer list-none"><span>誤答</span><span id="wrong-count" class="font-bold text-lg text-red-600 dark:text-red-400 bg-white/50 dark:bg-black/20 px-2 rounded-md">0</span></summary><ul id="wrong-list" class="p-4 pt-0 space-y-2 border-t border-red-200 dark:border-red-800"></ul></details>
            </div>
            <div class="mt-8 flex flex-col md:flex-row justify-center items-center gap-4">
                <button id="restart-btn" class="btn w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md">もう一度学習する</button>
                <button id="review-quiz-btn" class="btn w-full md:w-auto bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md hidden">苦手な単語を復習</button>
            </div>
        </div>

    </div>


    <script>
        // 提供された資料から抽出した単語データ
        const rawData = `
"die Erkenntnis, -se","認識","",""
"die Erscheinung, -en","現象","",""
"das Ding an sich","物自体","",""
"das Bewusstsein","意識","",""
"die Vernunft","理性","",""
"der Verstand","悟性","",""
"die Erfahrung, -en","経験","",""
"der Geist","精神","",""
"das Sein","存在","",""
"das Wesen, -","本質","",""
"der Begriff, -e","概念","",""
"die Substanz, -en","実体","",""
"die Moral, -en","道徳","",""
"die Ethik","倫理学","",""
"das Gute","善","",""
"der Wille, -n","意志","",""
"die Freiheit","自由","",""
"die Pflicht, -en","義務","",""
"das Recht, -e","権利、法","",""
"die Gerechtigkeit","正義","",""
"die Macht, Mächte","権力","",""
"die Tugend, -en","徳","",""
"das Urteil, -e","判断","",""
"die Ursache, -n","原因","",""
"die Wirkung, -en","結果","",""
"die Bedingung, -en","条件","",""
"die Notwendigkeit","必然性","",""
"die Möglichkeit","可能性","",""
"erkennen","認識する","",""
"begründen","基礎づける","",""
"voraussetzen","前提とする","",""
"aufheben","止揚する","",""
"objektiv","客観的","",""
"subjektiv","主観的","",""
"besonder","特殊的","",""
"allgemein","普遍的","",""
"absolut","絶対的","",""
"relativ","相対的","",""
"transzendental","超越論的","",""
"der Unterschied, -e","違い、差異","",""
"die Ähnlichkeit, -en","類似性","",""
"der Vergleich, -e","比較","",""
"der Gegensatz, ¨-e","対立、対照","",""
"der Kontrast, -e","コントラスト、対比","",""
"die Analogie, -n","類推、アナロジー","",""
"die Verschiedenheit, -en","多様性、相違","",""
"die Identität, -en","同一性","",""
"die Beziehung, -en","関係","",""
"das Verhältnis, -se","関係、比率","",""
"der Zusammenhang, ¨-e","関連、文脈","",""
"die Verbindung, -en","結合、つながり","",""
"die Verknüpfung, -en","連結","",""
"die Wechselwirkung, -en","相互作用","",""
"die Trennung, -en","分離、区別","",""
"die Abgrenzung, -en","境界設定、区別","",""
"die Distanz, -en","距離","",""
"die Struktur, -en","構造","",""
"der Aufbau, -en","構成、構造","",""
"die Ordnung, -en","秩序、順序","",""
"die Rangordnung, -en","序列、ランク","",""
"die Hierarchie, -n","ヒエラルキー、階層制","",""
"die Stufe, -n","段階、レベル","",""
"die Ebene, -n","水準、レベル、次元","",""
"der Zustand, ¨-e","状態","",""
"die Situation, -en","状況、事態","",""
"die Lage, -n","位置、情勢","",""
"die Verfassung, -en","憲法、（心身の）状態","",""
"die Phase, -n","段階、フェーズ","",""
"die Eigenschaft, -en","性質、特性","",""
"die Beschaffenheit, -en","性質、状態","",""
"die Gegebenheit, -en","与件、事実、状況","",""
"die Abhängigkeit, -en (von + Dativ)","依存","",""
"die Unabhängigkeit, -en (von + Dativ)","独立、自立","",""
"die Autonomie, -n","自律性","",""
"die Übereinstimmung, -en","一致","",""
"die Entsprechung, -en","対応、相当","",""
"die Harmonie, -n","調和、ハーモニー","",""
"der Widerspruch, ¨-e","矛盾","",""
"der Konflikt, -e","対立、紛争","",""
"die Spannung, -en","緊張（関係）","",""
"die Diskrepanz, -en","食い違い、矛盾、不一致","",""
"angeboren","生得的な","",""
"bedrohlich","脅威的な","",""
"chronisch","慢性的な","",""
"die Emotion, -en","感情","",""
"der Ekel, /","嫌悪感","",""
"die Euphorie, /","幸福感","",""
"der Faktor, -en","要因","",""
"gemein","共通の、公共の、卑劣な、意地悪な","",""
"die Handlung, -en","行為","",""
"individuell","個々の","",""
"irrational","非合理的な","",""
"komplex","複雑な","",""
"kulturell","文化的な","",""
"das Leid, /","苦しみ","",""
"der Mechanismus, Mechanismen","仕組み","",""
"minderwertig","低品質の","",""
"die Niederlage, -n","敗北","",""
"pessimistisch","悲観的な","",""
"optimistisch","楽観的な","",""
"die Phobie, -n","恐怖症","",""
"physisch","身体的な","",""
"psychisch","精神的な","",""
"seelisch","心的な","",""
"sekundär","第二の","",""
"primär","第一の","",""
"die Psyche, /","精神、心","",""
"die Scham, /","恥","",""
"die Schwäche, -n","弱さ","",""
"die Seele, -n","魂、心","",""
"die Strategie, -n","戦略","",""
"die Traurigkeit, /","悲しみ","",""
"der Wertgegenstand, -e","貴重品","",""
"die Zufriedenheit, /","満足","",""
"die Zuneigung, /","愛情、好意","",""
"analysieren","分析する","",""
"ansehen als","~とみなす","",""
"ausdrücken","表現する","",""
"ausgehen von","~を前提とする","",""
"betreffen","関係する","",""
"beurteilen","判断する、評価する","",""
"bewerten","評価する","",""
"einschätzen","評価する、見積もる","",""
"empfinden","感じる","",""
"kritisieren","批判する","",""
"leiden unter/an","~に苦しむ","",""
"nachweisen","証明する","",""
"scheitern an","~で失敗する","",""
"überwinden","克服する","",""
"vorwerfen","非難する","",""
"wahrnehmen","認識する、知覚する","",""
"zugeben","認める","",""
"abstrahieren","抽象化する","",""
"auftreten","発生する、登場する","",""
"von Bedeutung sein","重要である","",""
"eindeutig","明確な","",""
"enthalten","含む","",""
"isolieren","孤立させる","",""
"zählen zu","~に数えられる","",""
"die Anonymität, /","匿名性","",""
"bewusst /unbewusst","意識的な/無意識的な","",""
"der Fakt, -en","事実","",""
"das Individuum, Individuen","個人","",""
"die Konvention, -en","慣習","",""
"der Kulturkreis, -e","文化圈","",""
"die Lüge, -n","嘘","",""
"das Missverständnis, -se","誤解","",""
"nonverbal / verbal","非言語的な/言語的な","",""
"die Quelle, -n","情報源","",""
"der Status, -","地位","",""
"das Tabu, -s","タブー","",""
"der Wandel, -","変化、変遷","",""
"das Zeitalter, -","時代","",""
"antizipieren","予測する","",""
"auf klären über","~について説明する、啓蒙する","",""
"beabsichtigen","意図する","",""
"behaupten","主張する","",""
"Bezug nehmen auf","~に言及する","",""
"halten für/von","~とみなす/~を評価する","",""
"infrage stellen","疑問視する","",""
"kommunizieren","コミュニケーションをとる","",""
"nachvollziehen","理解する、たどる","",""
"reflektieren","反省する、熟考する、反射する","",""
"tolerieren","容認する","",""
"grundsätzlich","基本的に","",""
"das Prinzip","原理","",""
"wesentlich","本質的な","",""
"vielfältig","多様な","",""
"vollständig","完全な","",""
"vorhersehbar","予測可能な","",""
"das Vorwissen, /","予備知識","",""
"anonym","匿名の","",""
"der Aufbau, /","構造","",""
"autonom","自律的な","",""
"dauerhaft","永続的な","",""
"die Einschränkung, -en","制限","",""
"das Gut, Güter","財産、善","",""
"interaktiv","双方向の","",""
"der Kontext, -e","文脈","",""
"kriminell","犯罪の","",""
"nachhaltig","持続的な","",""
"das Niveau, -s","レベル","",""
"die Ressource, -n","資源","",""
"sensibel","繊細な、機密の","",""
"der Skandal, -e","スキャンダル、醜聞","",""
"der Standpunkt, -e","観点","",""
"umfassend","包括的な","",""
"weitreichend","広範囲にわたる","",""
"wirksam","効果的な","",""
"bedienen","操作する","",""
"entsprechen","一致する","",""
"ermöglichen","可能にする","",""
"gefährden","危険にさらす","",""
"optimieren","最適化する","",""
"steuern","制御する","",""
"strukturieren","構造化する","",""
"täuschen","だます","",""
"überwachen","監視する","",""
"unterschätzen","過小評価する","",""
"verbreiten","広める","",""
"zusammenhängen mit","~と関連がある","",""
"die Atmosphäre, -n","大気、雰囲気","",""
"dramatisch","劇的な","",""
"drohen","脅かす","",""
"einseitig","一方的な","",""
"das Gleichgewicht, /","バランス","",""
"der Impuls, -e","衝動、刺激","",""
"die Industrialisierung, -en","産業化","",""
"konservativ","保守的な","",""
"die Menschheit, /","人類","",""
"der Missstand, e","悪弊","",""
"ökonomisch","経済的な","",""
"der Planet, -en","惑星","",""
"die Prognose, -n","予報","",""
"die Qual, -en","苦痛","",""
"schädlich","有害な","",""
"das Szenario, Szenarien","シナリオ","",""
"umstritten","物議を醸す","",""
"umweltschädlich","環境に有害な","",""
"abwenden","回避する","",""
"alarmieren","警告する","",""
"auf greifen","取り上げる","",""
"äußern","表明する","",""
"berücksichtigen","考慮に入れる","",""
"betrachten","見なす、熟視する","",""
"ein gehen auf","~に応じる、言及する","",""
"halten von / für","~を~と評価する/思う","",""
"für Kritik sorgen","批判を招く","",""
"überdenken","再考する","",""
"um denken","考え直す","",""
"verstehen unter","~を~と理解する","",""
"vorschreiben","規定する","",""
"zeugen von","~の証拠となる","",""
"die Armut, /","貧困","",""
"die Ästhetik, /","美学","",""
"der Gegensatz, \"e","対照、対立","",""
"das Konzept, -e","コンセプト、構想","",""
"renommiert","有名な","",""
"skeptisch","懐疑的な","",""
"die Verantwortung tragen","責任を負う","",""
"ableiten","導き出す","",""
"bedenken","考慮する","",""
"befragen","質問する","",""
"bestätigen","確認する","",""
"Einfluss haben","影響を与える","",""
"entgegenwirken","対抗する","",""
"umsetzen","実行する","",""
"verknüpfen","結びつける","",""
"verschwenden","浪費する","",""
"die Autonomie, -n","自律性","",""
"der Begriff, -e","概念","",""
"die Flexibilität","柔軟性","",""
"der Fokus, -se","焦点","",""
"der Fortschritt, -e","進歩","",""
"die Führungskraft,-e","指導力、指導的立場にある人","",""
"die Hierarchie, -n","階層","",""
"die Konsequenz, -en","結果、帰結","",""
"die Nachhaltigkeit, /","持続可能性","",""
"das Phänomen, -e","現象","",""
"die Produktivität, /","生産性","",""
"die Psychologie, /","心理学","",""
"stabil","安定した","",""
"gesellig","社交的な","",""
"sich befassen mit","~を扱う、~に取り組む","",""
"dar|legen","説明する、詳述する","",""
"entwerfen, [ei]","設計する、草案を作成する","",""
"fokussieren","~に焦点を合わせる","",""
"formulieren","(言葉で) 表現する","",""
"thematisieren","~をテーマにする","",""
"veranschaulichen","分かりやすく説明する","",""
"verdeutlichen","明確にする","",""
"vereinbaren mit","~と両立させる","",""
"verweigern","拒否する","",""
"die Ausbeutung, -en","搾取","",""
"bedrohen","脅かす","",""
"beitragen zu","~に貢献する","",""
"bezweifeln","疑う","",""
"die Grundlage, -n","基礎","",""
"das Grundrecht, -e","基本的人権","",""
"integrieren","統合する","",""
"die Kolonialisierung, -en","植民地化","",""
"profitieren von","~から利益を得る","",""
"der Schaden, -","損害","",""
"überwiegen","上回る","",""
"die Verflechtung, -en","絡み合い、連関","",""
"vernetzen","ネットワーク化する","",""
"das Versäumnis, -se","怠慢、不作為","",""
"die Vielfalt, /","多様性","",""
"der Wettbewerb, -e","競争","",""
"wirtschaftlich","経済的な","",""
"der Zusammenbruch, -e","崩壊","",""
"die Analyse, -n","分析","",""
"ausgewogen","バランスの取れた","",""
"beherrschen","習得する、支配する","",""
"effizient","効率的な","",""
"gewährleisten","保証する","",""
"hochwertig","高品質の","",""
"die Innovation, -en","革新","",""
"kompatibel","互換性のある","",""
"konkret / abstrakt","具体的な/抽象的な","",""
"maßgeblich","決定的に","",""
"pauschal","一括の","",""
"die Revolution, -en","革命","",""
"revolutionär","革命的な","",""
"solide","堅実な","",""
"überflüssig","余分な","",""
"das Verfahren,","手順、プロセス","",""
"die Verringerung, /","減少","",""
"wissenschaftlich","科学的な、学問的な","",""
"befürworten","支持する","",""
"einsparen","節約する","",""
"erfassen","把握する、記録する","",""
"erobern","征服する","",""
"erwerben, [e→i]","取得する","",""
"ähneln","似ている","",""
"der Antrieb, -e","原動力、衝動","",""
"Bestand haben","存続する、有効である","",""
"der Entwurf, -e","草案、デザイン案","",""
"erforderlich","必要な","",""
"die Kompetenz, -en","能力、専門知識","",""
"leistungsfähig","能力の高い、高性能の","",""
"die Manipulation, -en","操作","",""
"optimal","最適な","",""
"die Stimmung, -en","雰囲気、気分","",""
"überlebenswichtig","生存に不可欠な","",""
"überlegen sein","優れている","",""
"übersichtlich","見やすい、分かりやすい","",""
"der Umgang, /","付き合い、扱い","",""
"umgangssprachlich","口語の","",""
"die Urform, -en","原型","",""
"verfügen über +A","~を自由に使える、~を持っている","",""
"die Verminderung","減少","",""
"der/die Vorgänger/in,-/-nen","前任者、旧モデル","",""
"der Vorläufer,","先駆け、前身","",""
"auf dem Vormarsch sein","台頭している","",""
"von Vorteil / von Nachteil sein","有利である/不利である","",""
"anknüpfen an + A","~と結びつける","",""
"betragen, [a→ä]","(数値が) 〜である","",""
"sich beziehen auf +A","~に言及する","",""
"sich durchsetzen gegen","~に打ち勝つ、普及する","",""
"einschränken","制限する","",""
"erschaffen","創造する","",""
"erscheinen","現象する、~のように思われる","",""
"etablieren","確立する","",""
"in den Fokus stellen","~に焦点を当てる","",""
"konstruieren","設計する、組み立てる","",""
"prognostizieren","予測する","",""
"übertragen","応用する、当てはめる","",""
"verdrängen","追い出す、取って代わる","",""
"die Vorstellung","表象、観念","",""
"An-sich","〜自体","",""
"das Postulat","要請","",""
"die Sittlichkeit","人倫、道徳性","",""
"der Naturzustand","自然状態","",""
"naturrechtlich","自然法上の","",""
"die Furcht","恐怖","",""
"der Staat","国家","",""
"die Idee","イデア","",""
"der Zweck","目的","",""
"die Form","形相、形式","",""
"die Seele","魂","",""
"behavioristisch","行動主義的な","",""
"postmodern","ポストモダン","",""
"die Metaphysik","形而上学","",""
"der Mensch","人間","",""
"die Welt","世界","",""
"der Grund","根拠、理由","",""
"verstehen","理解する","",""
"bedeuten","意味する","",""
"entstehen","生じる","",""
"zurückführen auf","〜に帰する、〜に遡る","",""
"allerdings","しかしながら、もっとも","",""
"jedoch","しかし","",""
"vielmehr","むしろ","",""
"hingegen","それに対して","",""
"denn","というのも〜だからだ","",""
"daher","それゆえに","",""
"damit","それによって、そのために","",""
"insofern","その限りにおいて","",""
"zwar ..., aber ...","確かに〜ではあるが、しかし…","",""
"die Bedeutung","意味、重要性","",""
"die Wahrheit","真理、真実","",""
"die Wirklichkeit","現実、実在","",""
"die Unterscheidung","区別","",""
"die Auffassung","見解、解釈","",""
"das Vermögen","能力","",""
"die Gewissheit","確実性","",""
"unterscheiden","区別する","",""
"bestimmen","規定する、決定する","",""
"schließen","結論づける","",""
"erklären","説明する","",""
"fordern","要求する","",""
"verweisen auf","〜を指示する、言及する","",""
"notwendig","必然的な、必要な","",""
"möglich","可能な","",""
"unbedingt","無条件の","",""
"willkürlich","任意の","",""
"allgemein","一般的な","",""
"konkret","具体的な","",""
"ursprünglich","本来の、最初の","",""
"praktische Vernunft","実践理性","",""
"theoretische Vernunft","理論理性","",""
"theoretische Erkenntnis","理論的認識","",""
"Seienden an sich / Dinge an sich","物自体","",""
"moralische Gesetz","道徳法則","",""
"praktische Freiheit","実践的自由","",""
"vernünftiger Wesen","理性的存在者","",""
"übersinnlichen Welt","超感性的な世界","",""
"höchsten Gut","最高善","",""
"Vernunftglaubens","理性信仰","",""
"Achtung","尊敬","",""
"kritischen Philosophie","批判哲学","",""
"kantischen Lehre","カントの学説","",""
"kritischen Idealismus","批判的観念論","",""
"kantischen Philosophie","カント哲学","",""
"Kants Moralphilosophie","カントの道徳哲学","",""
"Plato","プラトン","",""
"Ideenreich","イデア界","",""
"Mythos vom Demiurgen","デミウルゴスの神話","",""
"Tradition des Platonischen Sokrates","プラトン的ソクラテスの伝統","",""
"Aristoteles","アリストテレス","",""
"sein großer Schüler","彼の偉大な弟子","",""
"Stufenordnung","段階秩序","",""
"unbewegte Beweger","不動の動者","",""
"aristotelischer Provenienz","アリストテレス的起源の","",""
"die Aristoteliker","アリストテレス主義者たち","",""
"soziales Wesen","社会的な生き物","",""
"Vertreter der Stoa","ストア派の代表者","",""
"stoischen Philosophen Seneca","ストア派の哲学者セネカ","",""
"stoische Weise","ストア派の賢者","",""
"antiken Philosophenschulen","古代の哲学の学派","",""
"vorplatonischen Philosophen","プラトン以前の哲学者たち","",""
"griechischen Naturphilosophie","ギリシアの自然哲学","",""
"Natur, »Physis«","自然、「ピュシス」","",""
"Sinnlich-Räumliches","感性的・空間的なもの","",""
"immanenten, lebendigen Seele","内在的で、生き生きとした魂","",""
"behaupten","～だと主張する","",""
"darstellen","～を提示する、表現する、描写する","",""
"darlegen","～を（順序立てて）説明する、詳述する","",""
"zeigen / aufzeigen","～を示す、明らかにする","",""
"feststellen","～を確認する、断定する","",""
"formulieren","～を（言葉で）表現する、定式化する","",""
"vertreten","（意見・立場）を代表する、支持する","",""
"erläutern","～を解説する、釈明する","",""
"definieren","～を定義する","",""
"beschreiben","～を描写する、記述する","",""
"verdeutlichen","～を明確にする","",""
"veranschaulichen","～を（例などで）分かりやすく示す","",""
"interpretieren","～を解釈する","",""
"untersuchen","～を調査する、考察する","",""
"überprüfen","～を検証する、チェックする","",""
"erörtern","～を論じる、討議する","",""
"nachgehen (+ Dativ)","（問いなど）を追究する","",""
"vergleichen (mit + Dativ)","～を（〜と）比較する","",""
"abgrenzen (von + Dativ)","～を（〜から）区別する、境界を引く","",""
"in Beziehung setzen (zu + Dativ)","～を（〜と）関係づける","",""
"schlussfolgern / folgern (aus + Dativ)","（〜から）結論を導き出す","",""
"sich ergeben (aus + Dativ)","（〜から）生じる、明らかになる","",""
"resultieren (aus + Dativ)","（〜の）結果として生じる","",""
"ablehnen","～を拒否する、否定する","",""
"widersprechen (+ Dativ)","（～に）反論する、矛盾する","",""
"widerlegen","～の誤りを証明する、論破する","",""
"sich beziehen (auf + Akkusativ)","～に言及する、～と関連する","",""
"verweisen (auf + Akkusativ)","～を指示する、参照させる","",""
"beruhen (auf + Dativ)","～に基づいている","",""
"annehmen","～と仮定する、推測する","",""
"sein","～である","",""
"haben","持っている","",""
"werden","～になる、～だろう","",""
"können","～できる","",""
"müssen","～しなければならない","",""
"wollen","～したい","",""
"sollen","～すべきである","",""
"dürfen","～してもよい","",""
"gehen","行く","",""
"kommen","来る","",""
"machen","する、作る","",""
"sagen","言う","",""
"sprechen","話す","",""
"geben","与える","",""
"nehmen","取る","",""
"sehen","見る","",""
"finden","見つける、思う","",""
"bleiben","とどまる","",""
"leben","生きる、住む","",""
"arbeiten","働く","",""
"fragen","尋ねる","",""
"der Mensch, -en","人間","",""
"die Sache, -n","事、物","",""
"der Grund, Gründe","理由","",""
"die Frage, -n","問い、質問","",""
"die Antwort, -en","答え","",""
"das Beispiel, -e","例","",""
"das Problem, -e","問題","",""
"die Welt, -en","世界","",""
"die Gesellschaft, -en","社会","",""
"der Staat, -en","国家","",""
"die Zeit, -en","時間","",""
"das Leben, -","人生、生命","",""
"der Teil, -e","部分","",""
"die Art, -en","種類、方法","",""
"das Wort, Wörter/Worte","単語、言葉","",""
"gut / schlecht","良い / 悪い","",""
"groß / klein","大きい / 小さい","",""
"neu / alt","新しい / 古い","",""
"wichtig / unwichtig","重要 / 重要でない","",""
"richtig / falsch","正しい / 間違った","",""
"möglich / unmöglich","可能 / 不可能","",""
"ganz","全ての、全く","",""
"nur","ただ～だけ","",""
"auch","～もまた","",""
"sehr","とても","",""
"immer","いつも","",""
"oft","しばしば","",""
"vielleicht","もしかしたら","",""
"und","そして","",""
"aber","しかし","",""
"oder","または","",""
"dass","～ということ","",""
"weil","～だから","",""
"wenn","もし～ならば、～のとき","",""
"als","～したとき（過去の1回）","",""
"obwohl","～にもかかわらず","",""
"in","～の中に","",""
"an","～に接して","",""
"auf","～の上に","",""
"mit","～と⼀緒に","",""
"von","～から","",""
"zu","～へ","",""
"für","～のために","",""
"durch","～を通って","",""
"ohne","～なしで","",""
"gegen","～に反対して","",""
"die Voraussetzung, -en","前提","",""
"die Annahme, -n","仮定","",""
"die Grundlage, -n","基礎、土台","",""
"die Basis, Basen","ベース、基盤","",""
"der Ausgangspunkt, -e","出発点","",""
"die Prämisse, -n","（論理学の）前提","",""
"die These, -n","テーゼ、主張","",""
"die Hypothese, -n","仮説","",""
"die Definition, -en","定義","",""
"das Prinzip, -ien","原理、原則","",""
"der Grundsatz, ¨-e","基本方針、原則","",""
"das Kriterium, Kriterien","基準、クライテリア","",""
"der Maßstab, ¨-e","尺度、水準","",""
"das Argument, -e","論拠、主張","",""
"die Argumentation, -en","論証、議論の進め方","",""
"der Beweis, -e","証明、証拠","",""
"die Begründung, -en","理由付け、正当化","",""
"die Erklärung, -en","説明","",""
"die Erläuterung, -en","解説、釈明","",""
"die Untersuchung, -en","調査、考察","",""
"die Betrachtung, -en","考察","",""
"die Schlussfolgerung, -en / der Schluss, ¨-e","結論","",""
"die Konsequenz, -en","帰結、結果","",""
"das Ergebnis, -se","結果","",""
"das Resultat, -e","結果","",""
"die Zusammenfassung, -en","要約","",""
"der Einwand, ¨-e","反論、異議","",""
"die Kritik, -en","批判、批評","",""
"die Alternative, -n","代替案、もう一つの可能性","",""
        `;

        // 要素の取得
        const japaneseDisplay = document.getElementById('japanese-display');
        const wordDisplay = document.getElementById('word-display');
        const checkMeaningBtn = document.getElementById('check-meaning-btn');
        const assessmentButtonsContainer = document.getElementById('assessment-buttons');
        const assessmentButtons = document.querySelectorAll('.assessment-btn');
        const flipCard = document.getElementById('flip-card');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const learningScreen = document.getElementById('learning-screen');
        const learningTitle = document.getElementById('learning-title');
        const resultScreen = document.getElementById('result-screen');
        const restartBtn = document.getElementById('restart-btn');
        const reviewQuizBtn = document.getElementById('review-quiz-btn');

        let allWords = [];
        let words = [];
        let currentIndex = 0;
        let stats = {};

        // データの解析と整形
        function parseData(raw) {
            return raw.trim().split('\n').map(line => {
                const parts = line.trim().slice(1, -1).split('","');
                if (parts.length >= 2) { // 少なくとも単語と意味があればOK
                    return { 
                        word: parts[0].replace(/\\n/g, ' ').trim(), 
                        japanese: parts[1].replace(/\\n/g, ' ').trim(), 
                        // 例文は空にする
                        meaning: "",
                        exampleTranslation: ""
                    };
                }
                return null;
            }).filter(item => item !== null && item.word && item.japanese);
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function prepareNextWord() {
            if (currentIndex >= words.length) { showResults(); return; }
            assessmentButtonsContainer.classList.add('hidden');
            checkMeaningBtn.classList.remove('hidden');
            const currentWord = words[currentIndex];
            wordDisplay.textContent = currentWord.word;
            japaneseDisplay.textContent = currentWord.japanese;
            updateProgress();
        }

        function updateProgress() {
            const total = words.length;
            const current = currentIndex + 1 > total ? total : currentIndex + 1;
            progressText.textContent = `${current} / ${total}`;
            const percentage = total > 0 ? (current / total) * 100 : 0;
            progressBar.style.width = `${percentage}%`;
        }

        function showResults() {
            learningScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            const categories = { remembered: { countEl: 'remembered-count', listEl: 'remembered-list', words: stats.remembered }, fuzzy: { countEl: 'fuzzy-count', listEl: 'fuzzy-list', words: stats.fuzzy }, forgotten: { countEl: 'forgotten-count', listEl: 'forgotten-list', words: stats.forgotten }, wrong: { countEl: 'wrong-count', listEl: 'wrong-list', words: stats.wrong } };
            let reviewWords = [...stats.fuzzy, ...stats.forgotten, ...stats.wrong];
            
            if (reviewWords.length > 0) {
                reviewQuizBtn.classList.remove('hidden');
            } else {
                reviewQuizBtn.classList.add('hidden');
            }

            for (const key in categories) {
                const category = categories[key];
                document.getElementById(category.countEl).textContent = category.words.length;
                const listElement = document.getElementById(category.listEl);
                listElement.innerHTML = '';
                if (category.words.length > 0) {
                    category.words.forEach(word => {
                        const li = document.createElement('li');
                        li.className = 'flex justify-between items-center text-sm p-2 bg-white dark:bg-gray-700/50 rounded-md';
                        li.innerHTML = `<span class="font-medium text-gray-800 dark:text-gray-200">${word.word}</span><span class="text-gray-600 dark:text-gray-400">${word.japanese}</span>`;
                        listElement.appendChild(li);
                    });
                } else {
                    const li = document.createElement('li');
                    li.className = 'text-gray-500 italic text-sm px-2';
                    li.textContent = 'このカテゴリの単語はありません。';
                    listElement.appendChild(li);
                }
            }
        }

        function initialize(wordList = allWords, title = "ドイツ語単語学習") {
            words = [...wordList];
            shuffleArray(words);
            currentIndex = 0;
            stats = { remembered: [], fuzzy: [], forgotten: [], wrong: [] };
            resultScreen.classList.add('hidden');
            learningScreen.classList.remove('hidden');
            learningTitle.textContent = title;
            flipCard.classList.remove('flipped');
            prepareNextWord();
        }

        // --- Event Listeners ---
        checkMeaningBtn.addEventListener('click', () => {
            flipCard.classList.add('flipped');
            checkMeaningBtn.classList.add('hidden');
            assessmentButtonsContainer.classList.remove('hidden');
        });

        assessmentButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const status = e.target.dataset.status;
                stats[status].push(words[currentIndex]);
                currentIndex++;
                flipCard.classList.remove('flipped');
                setTimeout(() => { prepareNextWord(); }, 300);
            });
        });
        
        restartBtn.addEventListener('click', () => initialize());
        
        reviewQuizBtn.addEventListener('click', () => {
             const reviewWords = [...stats.fuzzy, ...stats.forgotten, ...stats.wrong];
             initialize(reviewWords, "苦手単語の復習");
        });
        
        // --- Application Start ---
        allWords = parseData(rawData);
        initialize(allWords, "ドイツ語単語学習");
    </script>
</body>
</html>

